<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GeoRemind - Crear Recordatorio</title>
    <link rel="icon" type="image/png" href="images/favicon.png" />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/create-reminder.css" />
    <link rel="stylesheet" href="css/custom-modals.css" />
    <link rel="stylesheet" href="css/share-section.css" />
    <link rel="stylesheet" href="css/settings.css" />
    <link rel="stylesheet" href="css/dark-mode.css" />
    <!-- Quill CSS -->
    <link
      href="https://cdn.quilljs.com/1.3.7/quill.snow.css"
      rel="stylesheet"
    />
    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
  </head>
  <body class="create-reminder-page">
    <!-- Header -->
    <header class="header-gradient">
      <div class="header-content-center">
        <button id="backBtn" class="btn-back" data-i18n="back">‚Üê Volver</button>
        <h1 data-i18n="createNewReminder">Crear Nuevo Recordatorio</h1>
        <div class="language-selector-container" id="langContainer"></div>
      </div>
    </header>

    <div class="create-container">
      <!-- Formulario (Izquierda) -->
      <div class="form-section">
        <form id="reminderForm">
          <div class="form-group">
            <label for="reminderTitle" data-i18n="title">T√≠tulo</label>
            <input
              type="text"
              id="reminderTitle"
              data-i18n-placeholder="titlePlaceholder"
              placeholder="Ej: Comprar leche"
              required
            />
          </div>

          <div class="form-group">
            <label data-i18n="description">Descripci√≥n</label>
            <div id="reminderDescription"></div>
          </div>

          <div class="form-group">
            <label for="reminderType" data-i18n="reminderType"
              >Tipo de recordatorio</label
            >
            <select id="reminderType" required>
              <option value="datetime" data-i18n="byDateTime">
                ‚è∞ Por fecha y hora
              </option>
              <option value="location" data-i18n="byLocation">
                üìç Por ubicaci√≥n
              </option>
              <option value="both" data-i18n="byBoth">‚è∞üìç Ambos</option>
            </select>
          </div>

          <div class="form-group" id="datetimeGroup">
            <label for="reminderDatetime" data-i18n="dateAndTime"
              >Fecha y hora</label
            >
            <input type="datetime-local" id="reminderDatetime" />
          </div>

          <!-- Campo de recurrencia -->
          <div class="form-group" id="recurrenceGroup">
            <label data-i18n="makeRecurrentQuestion"
              >¬øHacer recurrente? üîÑ</label
            >
            <div class="recurrence-radio-group">
              <label class="recurrence-radio">
                <input type="radio" name="recurrence" value="none" checked />
                <span class="radio-content">
                  <span class="radio-icon">‚ùå</span>
                  <span class="radio-text" data-i18n="no">No</span>
                </span>
              </label>

              <label class="recurrence-radio">
                <input type="radio" name="recurrence" value="daily" />
                <span class="radio-content">
                  <span class="radio-icon">üìÖ</span>
                  <span class="radio-text" data-i18n="daily">Diaria</span>
                </span>
              </label>

              <label class="recurrence-radio">
                <input type="radio" name="recurrence" value="weekly" />
                <span class="radio-content">
                  <span class="radio-icon">üìÜ</span>
                  <span class="radio-text" data-i18n="weekly">Semanal</span>
                </span>
              </label>

              <label class="recurrence-radio">
                <input type="radio" name="recurrence" value="monthly" />
                <span class="radio-content">
                  <span class="radio-icon">üóìÔ∏è</span>
                  <span class="radio-text" data-i18n="monthly">Mensual</span>
                </span>
              </label>

              <label class="recurrence-radio">
                <input type="radio" name="recurrence" value="yearly" />
                <span class="radio-content">
                  <span class="radio-icon">üìñ</span>
                  <span class="radio-text" data-i18n="yearly">Anual</span>
                </span>
              </label>
            </div>
          </div>

          <!-- La secci√≥n de compartir se a√±ade din√°micamente aqu√≠ por JS -->

          <div class="form-group" id="locationGroup" style="display: none">
            <label for="reminderAddress" data-i18n="searchLocation"
              >Buscar ubicaci√≥n</label
            >
            <input
              type="text"
              id="reminderAddress"
              data-i18n-placeholder="searchLocationPlaceholder"
              placeholder="Busca una direcci√≥n o lugar..."
            />
            <button
              type="button"
              id="searchBtn"
              class="btn-search"
              data-i18n="search"
            >
              üîç Buscar
            </button>

            <div
              id="selectedLocationInfo"
              class="location-info"
              style="display: none"
            >
              <p class="location-label" data-i18n="selectedLocation">
                üìç Ubicaci√≥n seleccionada:
              </p>
              <p id="selectedAddress" class="location-address"></p>
              <p id="selectedCoords" class="location-coords"></p>
            </div>
          </div>

          <button type="submit" class="btn-save" data-i18n="saveReminder">
            Guardar Recordatorio
          </button>
        </form>
      </div>

      <!-- Mapa / Info (Derecha) -->
      <div class="map-section" id="mapSection">
        <!-- Panel de informaci√≥n (cuando es "Por fecha") -->
        <div id="infoPanel" class="info-panel">
          <div class="info-icon">‚è∞</div>
          <h3 class="info-title" data-i18n="dateTimeReminder">
            Recordatorio por Fecha y Hora
          </h3>
          <p class="info-description" data-i18n="dateTimeReminderDesc">
            Este recordatorio se activar√° en la fecha y hora que selecciones.
            Recibir√°s una notificaci√≥n para recordarte tu tarea.
          </p>
          <div class="info-tips">
            <h4 data-i18n="tips">üí° Consejos:</h4>
            <ul>
              <li data-i18n="tip1">S√© espec√≠fico con el t√≠tulo</li>
              <li data-i18n="tip2">A√±ade detalles en la descripci√≥n</li>
              <li data-i18n="tip3">Configura la hora con anticipaci√≥n</li>
              <li data-i18n="tip4">Marca como completado al terminar</li>
            </ul>
          </div>
        </div>

        <!-- Mapa interactivo (cuando es "Por ubicaci√≥n" o "Ambos") -->
        <div id="mapContainer" class="map-placeholder" style="display: none">
          <!-- Buscador de lugares en el mapa -->
          <div class="map-search-container">
            <input
              type="text"
              id="mapSearchInput"
              class="map-search-input"
              data-i18n-placeholder="searchPlaceOnMap"
              placeholder="üîç Buscar un lugar en el mapa..."
              autocomplete="off"
            />
            <div id="mapSearchResults" class="map-search-results"></div>
          </div>

          <div id="map" class="map-container"></div>
        </div>
      </div>
    </div>

    <script src="js/i18n/translations.js"></script>
    <script src="js/custom-modals.js"></script>
    <script src="js/settings.js"></script>
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Quill JS -->
    <script src="https://cdn.quilljs.com/1.3.7/quill.min.js"></script>
    <!-- Scripts -->
    <script src="js/create-reminder-map.js"></script>
    <script src="js/create-reminder.js"></script>
  </body>
</html>
