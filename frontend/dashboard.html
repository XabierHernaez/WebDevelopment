<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GeoRemind - Crear Recordatorio</title>
    <link rel="icon" type="image/png" href="images/favicon.png" />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/create-reminder.css" />
    <link rel="stylesheet" href="css/custom-modals.css" />
    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
  </head>
  <body class="create-reminder-page">
    <!-- Header -->
    <header class="header-gradient">
      <div class="header-content-center">
        <button id="backBtn" class="btn-back">â† Volver</button>
        <h1>Crear Nuevo Recordatorio</h1>
        <div></div>
      </div>
    </header>

    <div class="create-container">
      <!-- Formulario (Izquierda) -->
      <div class="form-section">
        <form id="reminderForm">
          <div class="form-group">
            <label for="reminderTitle">TÃ­tulo</label>
            <input
              type="text"
              id="reminderTitle"
              placeholder="Ej: Comprar leche"
              required
            />
          </div>

          <div class="form-group">
            <label for="reminderDescription">DescripciÃ³n</label>
            <textarea
              id="reminderDescription"
              rows="3"
              placeholder="Detalles adicionales..."
            ></textarea>
          </div>

          <div class="form-group">
            <label for="reminderType">Tipo de recordatorio</label>
            <select id="reminderType" required>
              <option value="datetime">â° Por fecha y hora</option>
              <option value="location">ğŸ“ Por ubicaciÃ³n</option>
              <option value="both">â°ğŸ“ Ambos</option>
            </select>
          </div>

          <div class="form-group" id="datetimeGroup">
            <label for="reminderDatetime">Fecha y hora</label>
            <input type="datetime-local" id="reminderDatetime" />
          </div>

          <!-- âœ¨ NUEVO: Campo de recurrencia -->
          <div class="form-group" id="recurrenceGroup">
            <label>Â¿Hacer recurrente? ğŸ”„</label>
            <div class="recurrence-radio-group">
              <label class="recurrence-radio">
                <input type="radio" name="recurrence" value="none" checked />
                <span class="radio-content">
                  <span class="radio-icon">âŒ</span>
                  <span class="radio-text">No</span>
                </span>
              </label>

              <label class="recurrence-radio">
                <input type="radio" name="recurrence" value="daily" />
                <span class="radio-content">
                  <span class="radio-icon">ğŸ“…</span>
                  <span class="radio-text">Diaria</span>
                </span>
              </label>

              <label class="recurrence-radio">
                <input type="radio" name="recurrence" value="weekly" />
                <span class="radio-content">
                  <span class="radio-icon">ğŸ“†</span>
                  <span class="radio-text">Semanal</span>
                </span>
              </label>

              <label class="recurrence-radio">
                <input type="radio" name="recurrence" value="monthly" />
                <span class="radio-content">
                  <span class="radio-icon">ğŸ—“ï¸</span>
                  <span class="radio-text">Mensual</span>
                </span>
              </label>

              <label class="recurrence-radio">
                <input type="radio" name="recurrence" value="yearly" />
                <span class="radio-content">
                  <span class="radio-icon">ğŸ“–</span>
                  <span class="radio-text">Anual</span>
                </span>
              </label>
            </div>
          </div>

          <div class="form-group" id="locationGroup" style="display: none">
            <label for="reminderAddress">Buscar ubicaciÃ³n</label>
            <input
              type="text"
              id="reminderAddress"
              placeholder="Busca una direcciÃ³n o lugar..."
            />
            <button type="button" id="searchBtn" class="btn-search">
              ğŸ” Buscar
            </button>

            <div
              id="selectedLocationInfo"
              class="location-info"
              style="display: none"
            >
              <p class="location-label">ğŸ“ UbicaciÃ³n seleccionada:</p>
              <p id="selectedAddress" class="location-address"></p>
              <p id="selectedCoords" class="location-coords"></p>
            </div>
          </div>

          <button type="submit" class="btn-save">Guardar Recordatorio</button>
        </form>
      </div>

      <!-- Mapa / Info (Derecha) -->
      <div class="map-section" id="mapSection">
        <!-- Panel de informaciÃ³n (cuando es "Por fecha") -->
        <div id="infoPanel" class="info-panel">
          <div class="info-icon">â°</div>
          <h3 class="info-title">Recordatorio por Fecha y Hora</h3>
          <p class="info-description">
            Este recordatorio se activarÃ¡ en la fecha y hora que selecciones.
            RecibirÃ¡s una notificaciÃ³n para recordarte tu tarea.
          </p>
          <div class="info-tips">
            <h4>ğŸ’¡ Consejos:</h4>
            <ul>
              <li>SÃ© especÃ­fico con el tÃ­tulo</li>
              <li>AÃ±ade detalles en la descripciÃ³n</li>
              <li>Configura la hora con anticipaciÃ³n</li>
              <li>Marca como completado al terminar</li>
            </ul>
          </div>
        </div>

        <!-- Mapa interactivo (cuando es "Por ubicaciÃ³n" o "Ambos") -->
        <div id="mapContainer" class="map-placeholder" style="display: none">
          <p>ğŸ—ºï¸ Mapa Interactivo (Leaflet / Google Maps)</p>
          <div id="map" class="map-container"></div>
        </div>
      </div>
    </div>
    <script src="js/custom-modals.js"></script>
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Scripts -->
    <script src="js/create-reminder-map.js"></script>
    <script src="js/create-reminder.js"></script>
  </body>
</html>
